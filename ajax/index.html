<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>ajax</title>
</head>
<body>
<span onclick="no()">点击我</span>
<p id='ss'></p>


	<script type="text/javascript">


		   function no(){
		   	  //var aa=new XMLHttpRequest();
		   	  if (window.XMLHttpRequest)
					  {// code for IE7+, Firefox, Chrome, Opera, Safari
					  aa=new XMLHttpRequest();
					  }
					else
					  {// code for IE6, IE5
					  aa=new ActiveXObject("Microsoft.XMLHTTP");
					  }

		   	      aa.open("POST",'ajax.php',true);
		   	      aa.setRequestHeader("Content-type","application/x-www-form-urlencoded");
		   	      aa.send("fname=Henry&lname=Ford");
		   	      aa.onreadystatechange=function()
		   	      {

		   	      	  if(aa.readyState==4 && aa.status==200){
		   	               var data= aa.responseText;
		   	               var datas=JSON.parse(data);
		   	      	       //alert(datas.lname);
		   	      	         if(datas.status==0){
		   	      	         	 document.getElementById("ss").innerHTML=datas.msg;
		   	      	         }else{
		   	      	         	//document.getElementById("ss").innerHTML=datas.msg;
		   	      	         	 //window.history.back();
		   	      	         	  window.location.assign("http://www.w3cschool.cn");
		   	      	         }
		   	      	      

		   	      	  }

		   	      }
              
               //console.log(aa);
		   	  //alert(aa);
		   }
	</script>

<!-- <p>
	Ajax发送请求时候分为同步和异步：
  异步传输方式是用的最多的也是默认的方式，他避免了服务器检索给用户带来的时间延迟。在异步传输时候，它只是在后面悄悄进行着，用户仍旧可以做他做的事情，不会给用户任何的等待的感觉。在传输的数据量较大的时候，服务器检索的时间就更长了，但是用户却不知道，用户仍旧专注于页面上面的操作，根本就不知道服务器都干了些什么，就给用户良好的体验。
  异步传输方式却相反，他就好像是刚刚加载页面的那一刻一样，当发出了同步请求之后，浏览器就在等待，等待服务器检索完毕，返回结果。此时，鼠标会变成等待的形状，提醒我们的用户请求还没有相应，您什么也不能做，我们的用户就什么也干不成，能够做的一件事就是——等待……虽然用户已经习惯了等待整改页面的加载，虽然在ajax里面同步请求的时间一般不会大于整个页面加载的时间，但是你要知道什么都不做只是在那里被动等待是多么痛苦的一件事情。所以，这个同步请求要慎重使用……
  说到这里，我们不得不提出疑问，既然异步请求这么好，为啥不用异步请求呢？干脆不要同步请求得了。呵呵，你先别说的太急，假如有这么一个情况，我们这一步请求的结果是下一步请求的前提，只有知道这一步请求的结果用户以后所做的才有意义。那么你说应该使用同步请求还是异步请求呢？显而易见，同步请求吧，为了下一步所作的更有意义，我们亲爱的用户等一下又有何妨？
  同步请求和异步请求，各有用处，没有好坏之分，只又用的合适不合适的问题
  <br/>

Ajax优缺点                                                                                                      <br/>
                                      
Ajax优点和缺点: <br/>

优点：
         传统的web应用允许用户填写表单(form)，当提交表单时就向web服务器发送一个请求。服务器接收并处理传来的表单，然后返回一个新的网页。这个做法浪费了许多带宽，因为在前后两个页面中的大部分HTML代码往往是相同的。由于每次应用的交互都需要向服务器发送请求，应用的响应时间就依赖于服务器的响应时间。这导致了用户界面的响应比本地应用慢得多。<br/>

       与此不同，AJAX应用可以仅向服务器发送并取回必需的数据，它使用SOAP或其它一些基于XML的web service接口，并在客户端采用JavaScript处理来自服务器的响应。因为在服务器和浏览器之间交换的数据大量减少，结果我们就能看到响应更快的应用。同时很多的处理工作可以在发出请求的客户端机器上完成，所以Web服务器的处理时间也减少了。
         使用Ajax的最大优点，就是能在不更新整个页面的前提下维护数据。这使得Web应用程序更为迅捷地回应用户动作，并避免了在网络上发送那些没有改变过的信息。<br/>

          Ajax不需要任何浏览器插件，但需要用户允许JavaScript在浏览器上执行。就像DHTML应用程序那样，Ajax应用程序必须在众多不同的浏览器和平台上经过严格的测试。随着Ajax的成熟，一些简化Ajax使用方法的程序库也相继问世。同样，也出现了另一种辅助程序设计的技术，为那些不支持JavaScript的用户提供替代功能。<br/>

缺点：
           对应用Ajax最主要的批评就是，它可能破坏浏览器后退按钮的正常行为[4]。在动态更新页面的情况下，用户无法回到前一个页面状态，这是因为浏览器仅能记下历史记录中的静态页面。一个被完整读入的页面与一个已经被动态修改过的页面之间的差别非常微妙；用户通常都希望单击后退按钮，就能够取消他们的前一次操作，但是在Ajax应用程序中，却无法这样做。不过开发者已想出了种种办法来解决这个问题，当中大多数都是在用户单击后退按钮访问历史记录时，通过建立或使用一个隐藏的IFRAME来重现页面上的变更。（例如，当用户在Google Maps中单击后退时，它在一个隐藏的IFRAME中进行搜索，然后将搜索结果反映到Ajax元素上，以便将应用程序状态恢复到当时的状态。）<br/>

          一个相关的观点认为，使用动态页面更新使得用户难于将某个特定的状态保存到收藏夹中。该问题的解决方案也已出现，大部分都使用URL片断标识符（通常被称为锚点，即URL中#后面的部分）来保持跟踪，允许用户回到指定的某个应用程序状态。（许多浏览器允许JavaScript动态更新锚点，这使得Ajax应用程序能够在更新显示内容的同时更新锚点。）这些解决方案也同时解决了许多关于不支持后退按钮的争论。 进行Ajax开发时，网络延迟——即用户发出请求到服务器发出响应之间的间隔——需要慎重考虑。不给予用户明确的回应 [5]，没有恰当的预读数据 [6]，或者对XMLHttpRequest的不恰当处理[7]，都会使用户感到延迟，这是用户不欲看到的，也是他们无法理解的[8]。通常的解决方案是，使用一个可视化的组件来告诉用户系统正在进行后台操作并且正在读取数据和内容。
           一些手持设备（如手机、PDA等）现在还不能很好的支持Ajax; <br/>
用JavaScript作的Ajax引擎，JavaScript的兼容性和DeBug都是让人头痛的事; Ajax的无刷新重载，由于页面的变化没有刷新重载那么明显，所以容易给用户带来困扰――用户不太清楚现在的数据是新的还是已经更新过的；现有的解决有：在相关位置提示、数据更新的区域设计得比较明显、数据更新后给用户提示等; 对串流媒体的支持没有FLASH、Java Applet好;
</p> -->
</body>
</html>